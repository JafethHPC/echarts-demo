<!-- Main chart container -->
<div class="chart-container">
  <div class="legend-container">
    <div class="legend-item">
      <span class="legend-circle" style="background: #e0e0e0"></span> Portfolio
    </div>
    <div class="legend-item">
      <span class="legend-circle" style="background: #c62828"></span> PDT
    </div>
    <div class="legend-item">
      <span class="legend-circle" style="background: #012169"></span> Team
    </div>
    <div class="legend-item">
      <span class="legend-circle" style="background: #000000"></span>
      Contributor
    </div>
  </div>
  <div id="chart"></div>
</div>

<!-- Team Details Grid (shown when Team node is selected) -->
<div class="team-details-container" *ngIf="selectedNode === 'Team' && teamData">
  <app-team-table
    [title]="selectedNode + ' Details'"
    [teamData]="teamData"
    [state]="teamGridState"
    [selectableSettings]="selectableSettings"
    [loading]="false"
    [rowSelected]="rowSelected"
    [scale]="getCurrentScale()"
    (dataStateChange)="teamDataStateChange($event)"
    (selectionChange)="onTeamRowSelect($event)"
  ></app-team-table>
</div>

<!-- Alignments Grid (shown for all other nodes) -->
<div
  class="alignments-container"
  *ngIf="selectedNode && selectedNode !== 'Team'"
>
  <app-alignment
    [title]="selectedNode + ' Details'"
    [data]="gridView"
    [state]="gridState"
    [selectableSettings]="selectableSettings"
    [loading]="false"
    [rowSelected]="rowSelected"
    [nodeType]="selectedNode"
    [scale]="getCurrentScale()"
    (dataStateChange)="dataStateChange($event)"
    (selectionChange)="onRowSelect($event)"
  ></app-alignment>
</div>
